<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeGo System - Data Flow Diagrams</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1F4E78 0%, #2E75B5 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        nav {
            background: #f8f9fa;
            padding: 15px 40px;
            border-bottom: 3px solid #1F4E78;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        nav a {
            color: #1F4E78;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            background: #1F4E78;
            color: white;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 60px;
            scroll-margin-top: 80px;
        }

        .section h2 {
            color: #1F4E78;
            font-size: 2em;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 3px solid #2E75B5;
        }

        .section h3 {
            color: #2E75B5;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        .section p {
            margin-bottom: 15px;
            color: #555;
        }

        .diagram-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 25px 0;
            border: 2px solid #e0e0e0;
            overflow-x: auto;
        }

        .legend {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2E75B5;
        }

        .legend h4 {
            color: #1F4E78;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .legend-symbol {
            width: 60px;
            height: 40px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: bold;
        }

        .external-entity {
            background: #FFE5E5;
            border: 2px solid #FF6B6B;
            border-radius: 5px;
        }

        .process {
            background: #E3F2FD;
            border: 2px solid #2196F3;
            border-radius: 50%;
        }

        .datastore {
            background: #F1F8E9;
            border: 2px solid #8BC34A;
            border-left: 6px solid #8BC34A;
        }

        .info-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        ul.details {
            margin-left: 20px;
            margin-top: 10px;
        }

        ul.details li {
            margin: 8px 0;
            color: #555;
        }

        footer {
            background: #1F4E78;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }

        .mermaid {
            text-align: center;
        }

        /* Patient Journey Specific Styles */
        .intro {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 40px;
            border-left: 5px solid #2E75B5;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            margin-right: 12px;
            border: 2px solid #333;
        }

        .clinical-color { background: #E3F2FD; border-color: #2196F3; }
        .business-color { background: #E8F5E9; border-color: #4CAF50; }
        .decision-color { background: #FFF3E0; border-color: #FF9800; }
        .upsell-color { background: #F3E5F5; border-color: #9C27B0; }
        .behind-color { background: #FAFAFA; border-color: #9E9E9E; }

        .price-tag {
            background: #4CAF50;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: bold;
            display: inline-block;
            margin: 5px;
        }

        .key-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .highlight-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .highlight-card h4 {
            color: #1F4E78;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .highlight-card p {
            color: #555;
            font-size: 0.95em;
        }

        /* Responsive */
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            .content {
                padding: 20px;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }

            .legend-grid,
            .key-highlights {
                grid-template-columns: 1fr;
            }
        }

        /* Print styles */
        @media print {
            body {
                background: white;
            }
            
            .container {
                box-shadow: none;
            }
            
            nav {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>WeGo System</h1>
            <h2>Data Flow Diagrams & Patient Journey</h2>
            <p>Comprehensive Visual Documentation - Version 2.0</p>
        </header>

        <nav>
            <ul>
                <li><a href="#intro">Introduction</a></li>
                <li><a href="#patient-journey">Patient Journey</a></li>
                <li><a href="#context">Context Diagram</a></li>
                <li><a href="#level1">Level 1 DFD</a></li>
                <li><a href="#authentication">Authentication</a></li>
                <li><a href="#clinical">Clinical Assessment</a></li>
                <li><a href="#payment">Payment</a></li>
                <li><a href="#dashboard">Dashboard</a></li>
            </ul>
        </nav>

        <div class="content">
            <!-- Introduction Section -->
            <section id="intro" class="section">
                <h2>1. Introduction</h2>
                <p>This document presents interactive Data Flow Diagrams (DFDs) and the complete patient journey for the WeGo weight loss management system. The diagrams illustrate how data moves through the system from patient registration through clinical assessment, payment processing, and ongoing weight management tracking.</p>

                <div class="legend">
                    <h4>DFD Notation Guide</h4>
                    <div class="legend-item">
                        <div class="legend-symbol external-entity">Entity</div>
                        <div>
                            <strong>External Entities (Rectangles)</strong><br>
                            People or systems outside the WeGo application (e.g., Patient, PayFast)
                        </div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol process">Process</div>
                        <div>
                            <strong>Processes (Circles)</strong><br>
                            Activities that transform data (e.g., Validate Credentials, Calculate BMI)
                        </div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-symbol datastore">D1</div>
                        <div>
                            <strong>Data Stores (Parallel Lines)</strong><br>
                            Repositories where data is stored (e.g., User Database, Clinical Forms)
                        </div>
                    </div>
                    <div class="legend-item">
                        <div style="margin-right: 15px;">‚Üí</div>
                        <div>
                            <strong>Data Flows (Arrows)</strong><br>
                            Movement of data between entities, processes, and data stores
                        </div>
                    </div>
                </div>
            </section>

            <!-- PATIENT JOURNEY SECTION -->
            <section id="patient-journey" class="section">
                <h2>2. Complete Patient Journey - Dual Track Flow</h2>
                
                <div class="intro">
                    <h3>Overview</h3>
                    <p>This comprehensive patient journey map shows the complete WeGo experience from initial registration through ongoing weight management. The dual-track visualization displays both the clinical care pathway and corresponding business revenue opportunities.</p>
                    <p><strong>Key Features:</strong> Virtual consultations via Videomed, rapid medication delivery (60-90 minutes), personalized care with follow-up support, and strategic upsell opportunities at Body Lab.</p>
                </div>

                <!-- Journey Legend -->
                <div class="legend">
                    <h4>Journey Map Legend</h4>
                    <div class="legend-grid">
                        <div class="legend-item">
                            <div class="legend-color clinical-color"></div>
                            <div><strong>Clinical Steps</strong><br>Patient-facing care processes</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color business-color"></div>
                            <div><strong>Business Steps</strong><br>Revenue & conversion points</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color decision-color"></div>
                            <div><strong>Decision Points</strong><br>Patient suitability & choices</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color upsell-color"></div>
                            <div><strong>Upsell Opportunities</strong><br>Package & service upgrades</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color behind-color"></div>
                            <div><strong>Behind-the-Scenes</strong><br>Internal operational steps</div>
                        </div>
                    </div>
                </div>

                <!-- Pricing Overview -->
                <h3>2.1 Pricing Structure</h3>
                <div class="key-highlights">
                    <div class="highlight-card">
                        <h4>Initial Consultation</h4>
                        <p><span class="price-tag">R750</span></p>
                        <p>Includes: Virtual or in-person consultation + Blood work (Lancet) + Eligibility assessment</p>
                    </div>
                    <div class="highlight-card">
                        <h4>4-Week Package</h4>
                        <p><span class="price-tag">Price on Consultation</span></p>
                        <p>Includes: 4 weeks medication + First injection support + Progress tracking</p>
                    </div>
                    <div class="highlight-card">
                        <h4>8-Week Package</h4>
                        <p><span class="price-tag">Price on Consultation</span></p>
                        <p>Includes: 8 weeks medication + Follow-up consultation + Dosage management</p>
                    </div>
                    <div class="highlight-card">
                        <h4>Follow-up Consultations</h4>
                        <p><span class="price-tag">R899-950</span></p>
                        <p>Includes: Two virtual consultations + Dosage review + Package continuation guidance</p>
                    </div>
                </div>

                <!-- Journey Diagram -->
                <h3>2.2 Complete Journey Visualization</h3>
                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    Start([Patient Starts Journey])
    
    subgraph Clinical["CLINICAL TRACK - Patient Experience"]
        C1[Registration & Account Creation]
        C2[Clinical Form Completion<br/>Exclusion Criteria Upfront]
        C3{Passes Initial<br/>Screening?}
        C4[Payment: R750<br/>Consultation + Blood Work]
        C5[Blood Work Sent to Lancet<br/>included in R750]
        C6[Virtual Receptionist Books<br/>Consultation via Carelink]
        C7[Virtual Consultation via Videomed<br/>or In-Person at Medirite Sites]
        C8[Patient Care & Wellness<br/>Counseling Session]
        C9{Doctor Determines<br/>Suitable for GLP-1?}
        C10[eScript Sent to<br/>Pharmacy Center<br/>via Videomed]
        C11[Pharmacy Center<br/>Dispenses Medication]
        C12[Delivery via Delmed + Uber<br/>or Takealot Now<br/>60-90 minutes]
        C13[Body Lab Contact<br/>Patient Support & Services]
        C14[First Injection /<br/>Medication Start]
        C15[Dashboard Access<br/>Track Progress]
        C16[Log Weight & Injections]
        C17{4-Week or<br/>8-Week<br/>Follow-up?}
        C18[Follow-up Virtual<br/>Consultation]
        C19[Dosage Review &<br/>Progress Assessment]
        C20{Continue<br/>Package?}
        C21[Package Continuation]
        C22[Ongoing Care Loop]
        
        Rejected1([Not Eligible<br/>Refund/Alternative Options])
        Rejected2([Not Suitable After Consult<br/>Consultation Fee Retained])
        End1([Patient Discontinues])
    end
    
    subgraph Business["BUSINESS TRACK - Revenue Streams"]
        B1[Lead Capture]
        B2[Qualification Filter]
        B3[Revenue: R750<br/>Consultation Fee]
        B4[Blood Work Cost<br/>Subsidized]
        B5[Doctor Consultation<br/>Revenue Split]
        B6{Package<br/>Selection}
        B7[4-Week Package Sale<br/>Pricing TBD]
        B8[8-Week Package Sale<br/>Pricing TBD]
        B9[Medication Dispensing<br/>Revenue]
        B10[Body Lab Upsell<br/>Aesthetic Services]
        B11[Follow-up Billing<br/>R899-950 for 2 Consults]
        B12{Dosage<br/>Increase?}
        B13[Higher Dosage Upsell<br/>Premium Pricing]
        B14{Package<br/>Upgrade?}
        B15[Extended Package Sale<br/>8-Week or Longer]
        B16[Recurring Revenue<br/>Loyalty Program]
    end
    
    Start --> C1
    C1 --> C2
    C2 --> C3
    
    C3 -->|Yes| C4
    C3 -->|No| Rejected1
    
    C4 --> C5
    C5 --> C6
    C6 --> C7
    C7 --> C8
    C8 --> C9
    
    C9 -->|Yes| C10
    C9 -->|No| Rejected2
    
    C10 -.->|Behind Scenes| C11
    C11 -.->|Behind Scenes| C12
    C12 --> C13
    C13 --> C14
    C14 --> C15
    C15 --> C16
    C16 --> C17
    
    C17 -->|4-Week| C18
    C17 -->|8-Week| C18
    
    C18 --> C19
    C19 --> C20
    
    C20 -->|Yes| C21
    C20 -->|No| End1
    
    C21 --> C22
    C22 --> C17
    
    %% Business Track Connections
    C1 -.-> B1
    C2 -.-> B2
    C4 -.-> B3
    C5 -.-> B4
    C7 -.-> B5
    C9 -.->|If Yes| B6
    
    B6 -->|4-Week| B7
    B6 -->|8-Week| B8
    
    B7 -.-> B9
    B8 -.-> B9
    
    C13 -.-> B10
    C18 -.-> B11
    C19 -.-> B12
    
    B12 -->|Yes| B13
    B12 -->|No| B14
    
    C20 -.-> B14
    B14 -->|Yes| B15
    B14 -->|No| B16
    
    B15 -.-> B16
    B13 -.-> B16
    
    %% Styling
    style Start fill:#4CAF50,stroke:#2E7D32,stroke-width:3px,color:#fff
    style C22 fill:#4CAF50,stroke:#2E7D32,stroke-width:3px,color:#fff
    style Rejected1 fill:#F44336,stroke:#C62828,stroke-width:2px,color:#fff
    style Rejected2 fill:#FF9800,stroke:#E65100,stroke-width:2px,color:#fff
    style End1 fill:#9E9E9E,stroke:#616161,stroke-width:2px,color:#fff
    
    style C1 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C2 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C4 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C5 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C6 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C7 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C8 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C14 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C15 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C16 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C18 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C19 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style C21 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    
    style C3 fill:#FFF3E0,stroke:#FF9800,stroke-width:3px
    style C9 fill:#FFF3E0,stroke:#FF9800,stroke-width:3px
    style C17 fill:#FFF3E0,stroke:#FF9800,stroke-width:3px
    style C20 fill:#FFF3E0,stroke:#FF9800,stroke-width:3px
    
    style C10 fill:#FAFAFA,stroke:#9E9E9E,stroke-width:2px
    style C11 fill:#FAFAFA,stroke:#9E9E9E,stroke-width:2px
    style C12 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    
    style C13 fill:#F3E5F5,stroke:#9C27B0,stroke-width:3px
    
    style B1 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B2 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B3 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B4 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B5 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B6 fill:#FFF3E0,stroke:#FF9800,stroke-width:3px
    style B7 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B8 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B9 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B10 fill:#F3E5F5,stroke:#9C27B0,stroke-width:3px
    style B11 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
    style B12 fill:#FFF3E0,stroke:#FF9800,stroke-width:3px
    style B13 fill:#F3E5F5,stroke:#9C27B0,stroke-width:3px
    style B14 fill:#FFF3E0,stroke:#FF9800,stroke-width:3px
    style B15 fill:#F3E5F5,stroke:#9C27B0,stroke-width:3px
    style B16 fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px
                    </div>
                </div>

                <!-- Process Details -->
                <h3>2.3 Process Details</h3>

                <div class="info-box">
                    <h4>üîç Initial Screening & Consultation (R750)</h4>
                    <ul class="details">
                        <li><strong>Registration:</strong> Patient creates account on WeGo platform</li>
                        <li><strong>Clinical Form:</strong> Exclusion criteria checked upfront (pregnancy, breastfeeding, contraindications)</li>
                        <li><strong>Payment:</strong> R750 covers consultation + blood work</li>
                        <li><strong>Blood Work:</strong> Sent to Lancet (subsidized cost included in R750)</li>
                        <li><strong>Booking:</strong> Virtual receptionist schedules via Carelink</li>
                        <li><strong>Consultation:</strong> Virtual (Videomed) or in-person at Medirite sites</li>
                        <li><strong>Focus:</strong> Patient care, wellness counseling, building rapport</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h4>üìã Prescription & Dispensing (Behind the Scenes)</h4>
                    <ul class="details">
                        <li><strong>Doctor Approval:</strong> If suitable, doctor generates eScript</li>
                        <li><strong>Prescription Routing:</strong> eScript sent to Pharmacy Center via Videomed</li>
                        <li><strong>Patient Communication:</strong> Doctor tells patient "Congratulations, you can start your weight management journey. Body Lab will contact you."</li>
                        <li><strong>Note:</strong> Patient does NOT receive script directly (prevents price shopping)</li>
                        <li><strong>Dispensing:</strong> Pharmacy Center dispenses medication</li>
                        <li><strong>Delivery:</strong> Delmed + Uber or Takealot Now (60-90 minute delivery)</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h4>üíú Body Lab Contact - Strategic Conversion Point</h4>
                    <ul class="details">
                        <li><strong>Purpose:</strong> Patient support & service consultation</li>
                        <li><strong>Primary Goal:</strong> Ensure smooth medication start, answer questions</li>
                        <li><strong>Secondary Goal:</strong> Convert to Authentic Aesthetics customer</li>
                        <li><strong>Upsell Opportunities:</strong> Additional aesthetic services, wellness programs</li>
                        <li><strong>Package Selection:</strong> Guide patient to 4-week or 8-week package</li>
                        <li><strong>Approach:</strong> Diplomatic, care-focused, building long-term relationship</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h4>üìä Follow-up & Continuation Strategy</h4>
                    <ul class="details">
                        <li><strong>4-Week Check-in:</strong> Virtual consultation to assess progress, side effects, weight loss</li>
                        <li><strong>8-Week Check-in:</strong> Extended assessment for longer-term patients</li>
                        <li><strong>Follow-up Pricing:</strong> R899-950 for package covering two consultations</li>
                        <li><strong>Dosage Review:</strong> Doctor evaluates need for dosage increase (upsell opportunity)</li>
                        <li><strong>Package Upgrade:</strong> Transition from 4-week to 8-week packages</li>
                        <li><strong>Doctor Preference:</strong> Same doctor for continuity (when possible)</li>
                        <li><strong>Loyalty Program:</strong> Discounts and incentives for continued engagement</li>
                    </ul>
                </div>

                <!-- Technology Stack -->
                <h3>2.4 Technology & Service Providers</h3>
                <div class="key-highlights">
                    <div class="highlight-card">
                        <h4>Videomed</h4>
                        <p>Virtual consultation platform for doctor-patient interactions. Handles eScript generation and transmission to pharmacy network.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>Carelink</h4>
                        <p>Appointment booking system managed by virtual receptionist. Schedules consultations at Medirite sites or virtual slots.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>Lancet</h4>
                        <p>Blood work laboratory services. Processes all patient blood tests included in R750 consultation fee.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>Pharmacy Center</h4>
                        <p>Receives eScripts via Videomed, dispenses GLP-1 medications, coordinates delivery logistics.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>Delmed + Uber / Takealot Now</h4>
                        <p>Medication delivery services providing 60-90 minute delivery to patients.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>Body Lab (Authentic Aesthetics)</h4>
                        <p>Patient support team that manages post-consultation engagement, package selection, and aesthetic service upsells.</p>
                    </div>
                </div>

                <!-- Revenue Optimization -->
                <h3>2.5 Revenue Optimization Points</h3>
                <div class="key-highlights">
                    <div class="highlight-card">
                        <h4>üéØ Conversion Point 1</h4>
                        <p><strong>Clinical Form ‚Üí Consultation Payment</strong></p>
                        <p>Qualify leads early with exclusion criteria to maximize R750 conversion rate.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>üéØ Conversion Point 2</h4>
                        <p><strong>Consultation ‚Üí Package Selection</strong></p>
                        <p>Doctor builds rapport and recommends appropriate package (4-week vs 8-week).</p>
                    </div>
                    <div class="highlight-card">
                        <h4>üéØ Upsell Point 1</h4>
                        <p><strong>Body Lab Contact</strong></p>
                        <p>Strategic conversion to Authentic Aesthetics services while supporting medication start.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>üéØ Upsell Point 2</h4>
                        <p><strong>4-Week Follow-up</strong></p>
                        <p>Dosage increase recommendations based on progress (higher revenue tier).</p>
                    </div>
                    <div class="highlight-card">
                        <h4>üéØ Upsell Point 3</h4>
                        <p><strong>Package Continuation</strong></p>
                        <p>Upgrade to 8-week packages or extended programs with loyalty incentives.</p>
                    </div>
                    <div class="highlight-card">
                        <h4>üéØ Retention Strategy</h4>
                        <p><strong>Ongoing Care Loop</strong></p>
                        <p>Regular check-ins, progress tracking, and continuous engagement for recurring revenue.</p>
                    </div>
                </div>
            </section>

            <!-- Context Diagram -->
            <section id="context" class="section">
                <h2>3. Context Diagram (Level 0)</h2>
                <p>The context diagram shows the WeGo system as a single process with all external entities that interact with it.</p>

                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    Patient[Patient<br/>External Entity]
    Admin[Administrator<br/>External Entity]
    PayFast[PayFast<br/>Payment Gateway]
    Email[Email System]
    Google[Google OAuth]
    Facebook[Facebook OAuth]
    Carepon[Carepon<br/>Voucher System]
    
    WeGo((WeGo<br/>System))
    
    Patient -->|Registration Data| WeGo
    Patient -->|Login Credentials| WeGo
    Patient -->|Clinical Form Data| WeGo
    Patient -->|Payment Info| WeGo
    Patient -->|Voucher Codes| WeGo
    Patient -->|Weight Updates| WeGo
    
    WeGo -->|Account Confirmation| Patient
    WeGo -->|Session Token| Patient
    WeGo -->|Eligibility Status| Patient
    WeGo -->|Dashboard Data| Patient
    WeGo -->|Invoice PDF| Patient
    WeGo -->|Clinical Form PDF| Patient
    
    WeGo <-->|Payment Request/Response| PayFast
    WeGo -->|Verification Emails| Email
    WeGo -->|Invoices & PDFs| Email
    
    WeGo <-->|OAuth Token Exchange| Google
    WeGo <-->|OAuth Token Exchange| Facebook
    WeGo <-->|Voucher Validation| Carepon
    
    Admin -->|Management Requests| WeGo
    WeGo -->|Reports & Analytics| Admin
    
    style WeGo fill:#2196F3,stroke:#1565C0,stroke-width:4px,color:#fff
    style Patient fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
    style Admin fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
    style PayFast fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Email fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Google fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Facebook fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Carepon fill:#FFB84D,stroke:#E67700,stroke-width:2px
                    </div>
                </div>

                <div class="info-box">
                    <h4>External Entities</h4>
                    <ul class="details">
                        <li><strong>Patient:</strong> Primary user who registers, completes forms, makes payments, and tracks progress</li>
                        <li><strong>Administrator:</strong> System admin who manages users and reviews forms</li>
                        <li><strong>PayFast:</strong> External payment gateway for processing transactions</li>
                        <li><strong>Email System:</strong> Sends verification emails, invoices, and notifications</li>
                        <li><strong>Google OAuth:</strong> Social authentication provider</li>
                        <li><strong>Facebook OAuth:</strong> Social authentication provider</li>
                        <li><strong>Carepon System:</strong> Voucher validation and redemption system</li>
                    </ul>
                </div>
            </section>

            <!-- Level 1 DFD -->
            <section id="level1" class="section">
                <h2>4. Level 1 DFD - Main System Processes</h2>
                <p>This diagram breaks down the WeGo system into its main functional processes and data stores.</p>

                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    Patient[Patient]
    Admin[Administrator]
    PayFast[PayFast]
    Email[Email System]
    
    P1((1.0<br/>User<br/>Authentication))
    P2((2.0<br/>Clinical<br/>Assessment))
    P3((3.0<br/>Payment<br/>Processing))
    P4((4.0<br/>Document<br/>Management))
    P5((5.0<br/>Dashboard &<br/>Progress Tracking))
    P6((6.0<br/>Admin<br/>Management))
    
    D1[(D1: User<br/>Database)]
    D2[(D2: Clinical Forms<br/>Database)]
    D3[(D3: Payment<br/>Records)]
    D4[(D4: Weight<br/>Tracking)]
    D5[(D5: Injection<br/>Log)]
    D6[(D6: Session<br/>Store)]
    D7[(D7: Document<br/>Storage)]
    
    Patient -->|Registration/Login| P1
    P1 -->|Account Confirmation| Patient
    P1 <-->|User Data| D1
    P1 -->|Session Token| D6
    P1 -->|Verification Email| Email
    
    Patient -->|Clinical Form Data| P2
    P2 -->|Eligibility Status| Patient
    P2 <-->|Form Data| D2
    P2 -->|Photos| D7
    
    Patient -->|Payment Request| P3
    P3 <-->|Payment Processing| PayFast
    P3 -->|Payment Record| D3
    P3 -->|Success/Failure| Patient
    P3 -->|Trigger Generate| P4
    
    P4 -->|Invoices & Forms| Email
    P4 -->|PDFs| D7
    P4 -.->|Read User Data| D1
    P4 -.->|Read Form Data| D2
    P4 -.->|Read Payment| D3
    
    Patient -->|Dashboard Request| P5
    P5 -->|Dashboard View| Patient
    P5 <-->|User Profile| D1
    P5 -.->|Form Info| D2
    P5 <-->|Weight Data| D4
    P5 <-->|Injection Data| D5
    
    Admin -->|Management| P6
    P6 -->|Reports| Admin
    P6 -.->|All Data Stores| D1
    P6 -.->|Read Access| D2
    P6 -.->|Read Access| D3
    
    style P1 fill:#2196F3,stroke:#1565C0,stroke-width:3px,color:#fff
    style P2 fill:#2196F3,stroke:#1565C0,stroke-width:3px,color:#fff
    style P3 fill:#2196F3,stroke:#1565C0,stroke-width:3px,color:#fff
    style P4 fill:#2196F3,stroke:#1565C0,stroke-width:3px,color:#fff
    style P5 fill:#2196F3,stroke:#1565C0,stroke-width:3px,color:#fff
    style P6 fill:#2196F3,stroke:#1565C0,stroke-width:3px,color:#fff
    
    style D1 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D2 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D3 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D4 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D5 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D6 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D7 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    
    style Patient fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
    style Admin fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
    style PayFast fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Email fill:#FFB84D,stroke:#E67700,stroke-width:2px
                    </div>
                </div>

                <div class="info-box">
                    <h4>Main Processes Overview</h4>
                    <ul class="details">
                        <li><strong>Process 1.0:</strong> User Authentication - Handles registration, login, and social authentication</li>
                        <li><strong>Process 2.0:</strong> Clinical Assessment - Manages form submission, validation, and eligibility</li>
                        <li><strong>Process 3.0:</strong> Payment Processing - Handles transactions, vouchers, and invoices</li>
                        <li><strong>Process 4.0:</strong> Document Management - Generates PDFs and manages email delivery</li>
                        <li><strong>Process 5.0:</strong> Dashboard & Progress Tracking - Displays metrics and manages logging</li>
                        <li><strong>Process 6.0:</strong> Admin Management - Provides administrative functions</li>
                    </ul>
                </div>
            </section>

            <!-- Authentication Detail -->
            <section id="authentication" class="section">
                <h2>5. Process 1.0: User Authentication (Detailed)</h2>
                <p>Detailed breakdown of the authentication process including registration, login, and social authentication flows.</p>

                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    Patient[Patient]
    Google[Google OAuth]
    Facebook[Facebook OAuth]
    Email[Email System]
    
    subgraph "Process 1.0: User Authentication"
        P11((1.1<br/>Validate<br/>Registration))
        P12((1.2<br/>Hash<br/>Password))
        P13((1.3<br/>Create<br/>Account))
        P14((1.4<br/>Generate<br/>Verification))
        P15((1.5<br/>Validate<br/>Login))
        P16((1.6<br/>Create<br/>Session))
        P17((1.7<br/>Process<br/>Social Auth))
    end
    
    D1[(D1: User<br/>Database)]
    D6[(D6: Session<br/>Store)]
    
    Patient -->|Registration Data| P11
    P11 -->|Valid Data| P12
    P11 -->|Invalid| Patient
    P12 -->|Hashed Password| P13
    P13 -->|User Record| D1
    P13 -->|Trigger| P14
    P14 -->|Verification Email| Email
    P14 -->|Confirmation| Patient
    
    Patient -->|Login Credentials| P15
    P15 <-->|Verify| D1
    P15 -->|Valid| P16
    P15 -->|Invalid| Patient
    P16 -->|Session Token| D6
    P16 -->|Token| Patient
    
    Patient -->|OAuth Request| P17
    P17 <-->|Token Exchange| Google
    P17 <-->|Token Exchange| Facebook
    P17 -->|Create/Find User| D1
    P17 -->|Session| P16
    
    style P11 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P12 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P13 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P14 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P15 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P16 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P17 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    
    style D1 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D6 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    
    style Patient fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
    style Google fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Facebook fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Email fill:#FFB84D,stroke:#E67700,stroke-width:2px
                    </div>
                </div>

                <h3>Sub-processes</h3>
                <ul class="details">
                    <li><strong>1.1 Validate Registration:</strong> Check email uniqueness, validate data format, verify required fields</li>
                    <li><strong>1.2 Hash Password:</strong> Apply bcrypt hashing for secure password storage</li>
                    <li><strong>1.3 Create Account:</strong> Insert user record into database with verification pending status</li>
                    <li><strong>1.4 Generate Verification:</strong> Create verification token and send email</li>
                    <li><strong>1.5 Validate Login:</strong> Verify credentials against stored hash</li>
                    <li><strong>1.6 Create Session:</strong> Generate JWT token with expiry</li>
                    <li><strong>1.7 Process Social Auth:</strong> Exchange OAuth tokens, create or find user account</li>
                </ul>
            </section>

            <!-- Clinical Assessment Detail -->
            <section id="clinical" class="section">
                <h2>6. Process 2.0: Clinical Assessment (Detailed)</h2>
                <p>Detailed breakdown of the clinical form submission, validation, and eligibility determination process.</p>

                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    Patient[Patient]
    
    subgraph "Process 2.0: Clinical Assessment"
        P21((2.1<br/>Check<br/>Existing Form))
        P22((2.2<br/>Validate<br/>Personal Info))
        P23((2.3<br/>Extract<br/>ID Data))
        P24((2.4<br/>Calculate<br/>BMI))
        P25((2.5<br/>Upload<br/>Photos))
        P26((2.6<br/>Validate<br/>Medical))
        P27((2.7<br/>Check<br/>Eligibility))
        P28((2.8<br/>Determine<br/>Status))
        P29((2.9<br/>Store<br/>Form))
    end
    
    D2[(D2: Clinical<br/>Forms Database)]
    D7[(D7: Document<br/>Storage)]
    
    Patient -->|Form Data| P21
    P21 <-->|Check| D2
    P21 -->|No Existing| P22
    P21 -->|Duplicate Found| Patient
    
    P22 -->|Valid| P23
    P23 -->|DOB & Gender| P24
    P24 -->|BMI Result| P25
    P25 -->|Photos Optional| D7
    P25 -->|Continue| P26
    P26 -->|Medical Data| P27
    
    P27 -->|Pregnant/Breastfeeding?| P28
    P27 -->|Contraindications?| P28
    P27 -->|BMI Check| P28
    
    P28 -->|Eligible| P29
    P28 -->|Not Eligible| Patient
    P29 -->|Form Record| D2
    P29 -->|Status & BMI| Patient
    
    style P21 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P22 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P23 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P24 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P25 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P26 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P27 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P28 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P29 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    
    style D2 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D7 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style Patient fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
                    </div>
                </div>

                <h3>Eligibility Criteria</h3>
                <div class="info-box">
                    <h4>Automatic Rejection Conditions</h4>
                    <ul class="details">
                        <li>Currently pregnant</li>
                        <li>Currently breastfeeding</li>
                        <li>BMI below minimum threshold</li>
                        <li>Specific contraindicated medical conditions</li>
                    </ul>
                </div>
            </section>

            <!-- Payment Processing Detail -->
            <section id="payment" class="section">
                <h2>7. Process 3.0: Payment Processing (Detailed)</h2>
                <p>Detailed breakdown of payment processing including voucher validation, PayFast integration, and document generation triggering.</p>

                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    Patient[Patient]
    PayFast[PayFast Gateway]
    Carepon[Carepon System]
    
    subgraph "Process 3.0: Payment Processing"
        P31((3.1<br/>Retrieve<br/>Data))
        P32((3.2<br/>Validate<br/>Voucher))
        P33((3.3<br/>Calculate<br/>Amount))
        P34((3.4<br/>Create<br/>Request))
        P35((3.5<br/>Redirect<br/>to PayFast))
        P36((3.6<br/>Receive<br/>Notification))
        P37((3.7<br/>Validate<br/>Payment))
        P38((3.8<br/>Update<br/>Status))
        P39((3.9<br/>Trigger<br/>Documents))
        P310((3.10<br/>Handle<br/>Failure))
    end
    
    D1[(D1: User DB)]
    D2[(D2: Clinical<br/>Forms DB)]
    D3[(D3: Payment<br/>Records)]
    
    P4((4.0<br/>Document<br/>Management))
    
    Patient -->|Initiate Payment| P31
    Patient -->|Voucher Code| P32
    
    P31 <-->|User Data| D1
    P31 <-->|Form Data| D2
    P32 <-->|Validate| Carepon
    P32 -->|Discount| P33
    P33 -->|R750 - Discount| P34
    P34 -->|Payment Request| P35
    P35 -->|Redirect| Patient
    P35 <-->|Process| PayFast
    
    PayFast -->|Notification| P36
    P36 -->|Verify| P37
    P37 -->|Success| P38
    P37 -->|Failure| P310
    
    P38 -->|Record| D3
    P38 -->|Trigger| P39
    P39 -->|Initiate| P4
    P39 -->|Confirmation| Patient
    
    P310 -->|Error Message| Patient
    P310 -->|Retry Option| Patient
    
    style P31 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P32 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P33 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P34 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P35 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P36 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P37 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P38 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P39 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P310 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    
    style P4 fill:#2196F3,stroke:#1565C0,stroke-width:3px,color:#fff
    
    style D1 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D2 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D3 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    
    style Patient fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
    style PayFast fill:#FFB84D,stroke:#E67700,stroke-width:2px
    style Carepon fill:#FFB84D,stroke:#E67700,stroke-width:2px
                    </div>
                </div>

                <div class="info-box">
                    <h4>Payment Details</h4>
                    <ul class="details">
                        <li><strong>Standard Fee:</strong> R750.00 for clinical assessment</li>
                        <li><strong>Payment Methods:</strong> Credit card, debit card via PayFast</li>
                        <li><strong>Voucher System:</strong> Carepon integration for discount codes</li>
                        <li><strong>Future Enhancement:</strong> MoMo (Mobicred) buy-now-pay-later option</li>
                    </ul>
                </div>
            </section>

            <!-- Dashboard Detail -->
            <section id="dashboard" class="section">
                <h2>8. Process 5.0: Dashboard & Progress Tracking (Detailed)</h2>
                <p>Detailed breakdown of dashboard data retrieval, metrics calculation, and progress tracking functionality.</p>

                <div class="diagram-container">
                    <div class="mermaid">
graph TB
    Patient[Patient]
    
    subgraph "Process 5.0: Dashboard & Progress Tracking"
        P51((5.1<br/>Retrieve<br/>User Data))
        P52((5.2<br/>Retrieve<br/>Form Data))
        P53((5.3<br/>Retrieve<br/>Weight History))
        P54((5.4<br/>Retrieve<br/>Injections))
        P55((5.5<br/>Calculate<br/>Metrics))
        P56((5.6<br/>Generate<br/>Charts))
        P57((5.7<br/>Process<br/>Weight Update))
        P58((5.8<br/>Process<br/>Injection Log))
        P59((5.9<br/>Update<br/>Profile))
    end
    
    D1[(D1: User DB)]
    D2[(D2: Clinical<br/>Forms DB)]
    D3[(D3: Payment<br/>Records)]
    D4[(D4: Weight<br/>Tracking)]
    D5[(D5: Injection<br/>Log)]
    
    Patient -->|Dashboard Request| P51
    Patient -->|Weight Update| P57
    Patient -->|Injection Entry| P58
    Patient -->|Profile Edit| P59
    
    P51 <-->|User Info| D1
    P51 -->|Next| P52
    P52 <-->|Form Info| D2
    P52 -->|Next| P53
    P53 <-->|Weight Data| D4
    P53 -->|Next| P54
    P54 <-->|Injection Data| D5
    P54 -->|All Data| P55
    
    P55 -->|Current Weight| P56
    P55 -->|Target Weight| P56
    P55 -->|Total Loss| P56
    P55 -->|Total Injections| P56
    P55 -->|Progress %| P56
    
    P56 -->|Dashboard View| Patient
    
    P57 -->|New Record| D4
    P57 -->|Confirmation| Patient
    
    P58 -->|New Record| D5
    P58 -->|Confirmation| Patient
    
    P59 <-->|Update| D1
    P59 -->|Confirmation| Patient
    
    D3 -.->|Payment History| P56
    
    style P51 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P52 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P53 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P54 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P55 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P56 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P57 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P58 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    style P59 fill:#E3F2FD,stroke:#2196F3,stroke-width:2px
    
    style D1 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D2 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D3 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D4 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    style D5 fill:#8BC34A,stroke:#558B2F,stroke-width:2px
    
    style Patient fill:#FF6B6B,stroke:#C92A2A,stroke-width:2px
                    </div>
                </div>

                <h3>Dashboard Metrics</h3>
                <div class="info-box">
                    <h4>Calculated Metrics</h4>
                    <ul class="details">
                        <li><strong>Current Weight:</strong> Most recent weight entry from D4</li>
                        <li><strong>Target Weight:</strong> Goal weight from clinical form (D2)</li>
                        <li><strong>Total Weight Loss:</strong> Initial weight - Current weight</li>
                        <li><strong>Total Injections:</strong> Count of all records in D5</li>
                        <li><strong>Progress Percentage:</strong> (Weight Lost / Total to Lose) √ó 100</li>
                    </ul>
                </div>
            </section>

            <!-- Summary -->
            <section id="summary" class="section">
                <h2>9. Summary</h2>
                <p>These interactive Data Flow Diagrams and the comprehensive patient journey map provide a complete visual representation of the WeGo system's data architecture and patient experience. Key highlights include:</p>
                
                <ul class="details">
                    <li><strong>Complete Patient Journey:</strong> Dual-track visualization showing clinical care and business revenue streams</li>
                    <li><strong>7 External Entities:</strong> Patient, Administrator, PayFast, Email System, Google OAuth, Facebook OAuth, and Carepon</li>
                    <li><strong>6 Main Processes:</strong> Authentication, Clinical Assessment, Payment Processing, Document Management, Dashboard & Progress Tracking, and Admin Management</li>
                    <li><strong>7 Data Stores:</strong> User Database, Clinical Forms, Payment Records, Weight Tracking, Injection Log, Session Store, and Document Storage</li>
                    <li><strong>Technology Integration:</strong> Videomed, Carelink, Lancet, Pharmacy Center, delivery services, and Body Lab</li>
                    <li><strong>Revenue Optimization:</strong> Strategic upsell points throughout the patient journey</li>
                </ul>

                <div class="info-box">
                    <h4>Security & Compliance</h4>
                    <ul class="details">
                        <li>All patient data flows encrypted via HTTPS</li>
                        <li>Passwords hashed using bcrypt before storage</li>
                        <li>Session tokens with automatic expiry</li>
                        <li>POPIA compliance for medical data in D2</li>
                        <li>PCI DSS compliance for payment processing via PayFast</li>
                    </ul>
                </div>
            </section>
        </div>

        <footer>
            <p>&copy; 2025 WeGo System | Data Flow Diagrams & Patient Journey Documentation</p>
            <p>Version 2.0 - Complete Interactive Edition</p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    </script>
</body>
</html>
